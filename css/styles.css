/* Base styles */
:root {
  --bg: #0b0e14;
  --panel: #121826;
  --accent: #3a86ff;
  --text: #e6edf3;
  --muted: #91a4b7;
  --danger: #ff4757;
  --success: #2ed573;
}
* { box-sizing: border-box; }
html, body, #app { height: 100%; margin: 0; padding: 0; overflow: hidden; }
body { background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
#app { position: relative; overflow: hidden; }
/* Ensure any canvas fills the viewport and stays anchored */
canvas { display: block; position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; }
canvas#game { position: absolute; inset: 0; width: 100vw; height: 100vh; display: block; background: linear-gradient(#1a1f2b, #0b0e14); z-index: 0; }

/* Overlay & screens */
#overlay { position: absolute; inset: 0; pointer-events: auto; z-index: 2; }
.screen { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(18,24,38,0.9); border: 1px solid #263147; border-radius: 12px; padding: 24px; width: min(520px, 92vw); display: none; pointer-events: auto; box-shadow: 0 8px 36px rgba(0,0,0,0.5); }
.screen.visible { display: block; }
.screen h1, .screen h2 { margin: 0 0 12px; }
.screen p { color: var(--muted); }

/* Buttons */
button { background: var(--accent); color: white; border: none; padding: 12px 18px; border-radius: 10px; font-weight: 600; cursor: pointer; transition: transform .06s ease, filter .2s ease; }
button:hover { filter: brightness(1.05); }
button:active { transform: translateY(2px); }
button.secondary { background: #2b344c; }
button.danger { background: var(--danger); }

/* HUD */
.hud { position: absolute; top: 14px; left: 50%; transform: translateX(-50%); display: flex; gap: 18px; background: rgba(18,24,38,0.6); border: 1px solid #263147; padding: 10px 14px; border-radius: 999px; pointer-events: none; }
.hud .stat { color: var(--text); font-size: 14px; }
.hud.hidden { display: none; }

/* Garage */
#garageList { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; margin: 12px 0; }
.vehicle-card { background: #0e1320; border: 1px solid #263147; border-radius: 10px; padding: 12px; display: flex; flex-direction: column; gap: 8px; }
.vehicle-card h3 { margin: 0; font-size: 16px; }
.vehicle-card .meta { font-size: 12px; color: var(--muted); }
.vehicle-card .actions { display: flex; gap: 8px; }

/* Mobile controls */
.mobile { position: absolute; bottom: 16px; left: 50%; transform: translateX(-50%); display: grid; grid-template-columns: repeat(4, 64px); gap: 10px; pointer-events: auto; z-index: 3; }
.pill { background: rgba(255,255,255,0.1); border: 1px solid #263147; width: 64px; height: 64px; border-radius: 12px; font-size: 22px; }

/* Utility */
.hidden { display: none !important; }
.gameover-actions, .garage-actions { display: flex; gap: 10px; }

@media (max-width: 820px) {
  .hud { top: auto; bottom: 96px; }
  .mobile { display: grid; }
}

/* Optional: brief resize overlay to avoid mid-resize stretch */
#resizeNotice {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.6);
  color: #e6edf3;
  padding: 8px 12px;
  border: 1px solid #263147;
  border-radius: 8px;
  font-size: 14px;
  z-index: 4;
  display: none;
}
